# Домашнее задание по лекции "Брокеры сообщений: Kafka & RabbitMQ"

### Описание задания
Необходимо создать два микросервиса, которые будут обмениваться между собой данными с помощью брокеров сообщений: RabbitMQ и Kafka. Например, первый сервис отправляет сообщение во второй сервис с помощью Kafka, а второй сервис отправляет ответ на это сообщение в первый сервис с помощью RabbitMQ. В качестве триггера для отправки сообщения будет использоваться REST-запрос в контроллер. Для развёртывания Kafka и RabbitMQ необходимо использовать Docker и docker-compose.


## Инструкция к выполнению

### 1 Создать микросервис – API для оформления заявки на кредит 

Заявка на кредит должна содержать сумму кредита, срок кредита, доход пользователя, его текущую кредитную нагрузку и его текущий кредитный рейтинг:

1. Использовать RestController для получения и обработки запроса из spring-boot-starter-web
2. При получении заявки на кредит сервис должен сохранять эту заявку в БД, отправлять её в сервис обработки заявок с помощью Kafka и возвращать пользователю ID заявки в базе
3. Дополнительно в базе необходимо создать поле, в котором храним статус заявки (в обработке/одобрено/отказано). При добавлении заявки в базу значение статуса по умолчению будет “в обработке”
3. Добавить второе api для получения статуса заявки по id заявки
4. Получать ответ от сервиса обработки заявки с помощью RabbitMQ
5. При обработке ответа от сервиса обработки заявки необходимо обновлять её статус в БД
6. Предусмотреть механизм миграций для разворачивания проекта
7. Для взаимодействия нужно использовать отдельные классы (обычно имеют суффикс Event в названии). DTO, полученное от пользователя, пересылать другому сервису не нужно

### 2 Создать микросервис, обрабатывающий заявку на кредит

1. Микросервис должен получать заявку на кредит с помощью Kafka
2. Принимать решение, одобрить кредит или нет (платёж по кредитам не должен превышать 50% от доходов)
3. Отправлять в ответ информацию о принятом решении с помощью RabbitMQ

### 3 Добавить файл docker-compose для развёртывания приложения

Работает, выполнить:
HW_Kafka-RabbitMQ\HWCreditRequest> docker-compose up -d

Запустятся контейнер hwcreditrequest с контейнерами:
- rabbitmq-1
- zookeeper-1
- kafka-1
- mysql_db-1


### 4 Добавить файл http, содержащий запросы для заявки на кредит и получения статуса заявки на кредит

Приложила коллекцию Postman:

Credit Request (Kafka, RabbitMQ).postman_collection.json